(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[0],{15:function(e,t,n){var a=n(41),r=Object.freeze({TRANSITION:"transition"}),c=function(e){if(!e)return{};var t=e&&Object.keys(e);return Object.freeze(t.reduce((function(t,n){return t[n]=s(n,e[n]),t}),{}))},s=function(e,t){var n=t.actions,a=void 0===n?{}:n;return{actions:a,enter:t.enter,leave:t.leave,name:e,is:function(t){return t&&t===e},next:Object.values(a)}},i=function(e,t,n,c){var s=n.current(),i=s.actions&&s.actions[e],o=i&&n.states&&n.states[i];o?(c.push(o.name),o.value=a({},t),s.leave&&s.leave(o,n),o.enter&&o.enter(s,n),n.emit(r.TRANSITION,{from:a({},s),to:a({},o)})):console.error("Can't find state named ".concat(i," for action ").concat(e,". available states: "),Object.keys(n.states))};e.exports={Ramzor:function(e){var t=e.initial,n=c(e.states);if(t&&n&&Object.keys(n).length&&n[t]){var r={},s=[n[e.initial].name],o=Object.freeze({initial:t,states:n,current:function(){return a({},n[s[s.length-1]])},send:function(e,t){return i(e,t,o,s)},on:function(e,t){return r[e]&&r[e].push(t)||(r[e]=[t])},off:function(e){return r[e]=[]},emit:function(e,t){return r[e]&&r[e].forEach((function(e){return e(t)}))}});return n[t].enter&&n[t].enter(null,o),o}},events:r}},33:function(e,t,n){},34:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(0),c=n.n(r),s=n(9),i=n.n(s),o=(n(33),n(16)),u=n(12),l=(n(34),function(e){var t=Object(r.useState)(e.current),n=Object(u.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){e.on("transition",(function(e){c(e.to)}))}),[e]),[a,e.send]}),d=n(19),j=n(26),b=n(24),f=n(14),h=n(25),O=n(13),p=n(7),v=n.n(p),m=n(11),x=n(15),g=function(){var e=Object(m.a)(v.a.mark((function e(t,n,a){var r,c,s,i,u,l=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>3&&void 0!==l[3]?l[3]:[],e.prev=1,e.next=4,fetch("https://api.unsplash.com/users/".concat(t,"/photos?per_page=").concat(a,"&page=").concat(n,"&client_id=22ae3a3fb9415b82a2f8da77b560210d4aac32adc0a3fe12dc5b4e2b85ebc384"));case 4:return c=e.sent,s=c.status,i=c.headers.get("X-Total"),e.next=9,c.json();case 9:if(u=e.sent,404!==s){e.next=14;break}return e.abrupt("return",{command:"NOT_FOUND",data:{username:t}});case 14:if(200!==s){e.next=16;break}return e.abrupt("return",{command:"SUCCESS",data:{username:t,photos:r.concat(u),page:n,total:i}});case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(1),e.abrupt("return",{command:"ERROR",data:Object(o.a)({},e.t0)});case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t,n,a){return e.apply(this,arguments)}}(),N=Object(x.Ramzor)({initial:"waiting",states:{waiting:{actions:{LOAD:"loading"}},loading:{actions:{NOT_FOUND:"notFound",ERROR:"error",SUCCESS:"feed"},enter:function(){var e=Object(m.a)(v.a.mark((function e(t,n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n.current().value.username,1,20);case 2:a=e.sent,n.send(a.command,a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},loadingMore:{actions:{NOT_FOUND:"notFound",ERROR:"error",SUCCESS:"feed"},enter:function(){var e=Object(m.a)(v.a.mark((function e(t,n){var a,r,c,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.current().value,r=a.username,c=a.page,s=a.photos,e.next=3,g(r,c+1,20,s);case 3:i=e.sent,n.send(i.command,i.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},feed:{actions:{LOAD:"loading",LOAD_MORE:"loadingMore"}},notFound:{actions:{LOAD:"loading"}}}}),k=Object(x.Ramzor)({initial:"typing",states:{typing:{actions:{TYPE:"typing"}}}}),S=function(){var e=l(N),t=Object(u.a)(e,2),n=t[0],r=t[1],c=l(k),s=Object(u.a)(c,2),i=s[0],p=s[1],v=function(e){return!e.value||!e.value.text||!e.value.text.length};return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)(h.a,{bg:"dark",variant:"dark",className:"justify-content-between",children:[Object(a.jsxs)(h.a.Brand,{children:[Object(a.jsx)(O.a,{icon:"binoculars"})," Sherlock"]}),Object(a.jsxs)(j.a,{inline:!0,onSubmit:function(e){e.preventDefault(),!v(i)&&r("LOAD",{username:i.value.text})},children:[Object(a.jsx)(j.a.Control,{placeholder:"Unsplash Username",disabled:n.is("loading")||n.is("loadingMore"),value:i.value&&i.value.text||"",onInput:function(e){return p("TYPE",{text:e.currentTarget.value})}}),Object(a.jsxs)(d.a,{disabled:v(i),onClick:function(){return r("LOAD",{username:i.value.text})},variant:"dark",children:[Object(a.jsx)(O.a,{icon:"bullseye"})," Load"]})]})]}),Object(a.jsxs)(b.a,{fluid:"xl",className:"mt-3",children:[n&&n.is("waiting")&&Object(a.jsxs)(f.a,{children:[Object(a.jsx)("h1",{children:"Start use Sherlock"}),Object(a.jsx)("p",{children:"By enter your Unsplash username in navbar"})]}),n&&n.is("feed")&&0===n.value.photos.length&&Object(a.jsx)(f.a,{children:Object(a.jsxs)("h1",{children:["No images found for user ",n.value.username]})}),n&&(n.is("feed")||n.is("loadingMore"))&&n.value.photos.length>0&&Object(a.jsxs)(b.a,{children:[Object(a.jsx)("div",{className:"masonry",children:n.value.photos.map((function(e){return Object(a.jsxs)("div",{className:"brick photo-pile",children:[Object(a.jsx)("img",{src:e.urls.small,style:{width:"100%"},alt:e.description}),Object(a.jsxs)("div",{className:"placeholder p-2",children:[Object(a.jsxs)("span",{className:"duplicates",children:[Object(a.jsx)("span",{className:"number",children:Math.floor(1001*Math.random())+0}),"Occurrences found"]}),Object(a.jsx)(d.a,{variant:"outline-light",children:"Learn More"})]})]})}))}),n.value.total>n.value.photos.length&&Object(a.jsx)("p",{className:"text-center",children:Object(a.jsxs)(d.a,{disabled:n.is("loadingMore"),variant:"outline-dark",onClick:function(){return r("LOAD_MORE",Object(o.a)({},n.value))},children:[n.is("feed")&&"Load More",n.is("loadingMore")&&Object(a.jsx)(O.a,{icon:"spinner",spin:!0})]})})]}),n&&n.is("loading")&&Object(a.jsx)("p",{className:"text-center",children:Object(a.jsx)(O.a,{icon:"spinner",spin:!0,size:"10x"})}),n&&n.is("notFound")&&Object(a.jsxs)(f.a,{children:[Object(a.jsxs)("h1",{children:["User ",n.value.username," not found"]}),Object(a.jsx)("p",{children:"Try search for something else"})]}),n&&n.is("error")&&n.value.error&&Object(a.jsx)(f.a,{children:Object(a.jsx)("p",{children:JSON.stringify(n.value.error)})})]})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},R=n(10),T=n(18);R.b.add(T.c,T.a,T.b),i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(S,{})}),document.getElementById("root")),y()}},[[44,1,2]]]);
//# sourceMappingURL=main.bd783dba.chunk.js.map